<?xml version="1.0" encoding="UTF-8"?>
<idea-plugin>
    <!-- Phase 0.1: Initial project structure created. -->
    <!-- Metadata set as part of Phase 0.1 tasks. -->

    <id>dev.bluekachina.fmcuttingboard</id>
    <name>FMCuttingBoard</name>
    <version>0.0.1</version>
    <vendor email="to_be_filled@example.com" url="http://www.example.com">FMCuttingBoard</vendor>

    <!-- Compatibility configured via Gradle's patchPluginXml -->

    <description><![CDATA[
        A JetBrains IDE plugin that helps you work with FileMaker's clipboard as XML.

        When installed, the plugin adds a new "FMCuttingBoard" submenu under the IDE's Tools menu.
        Planned actions include:
        - Convert FileMaker Clipboard To XML
        - Read Clipboard Into New XML File
        - Push Clipboard Into FileMaker

        This is an initial skeleton; functionality will be implemented progressively per the roadmap.
    ]]></description>

    <!-- Notifications group for user-facing balloon messages (registered via extensions) -->
    <extensions defaultExtensionNs="com.intellij">
        <notificationGroup id="FMCuttingBoard" displayType="BALLOON"/>
        <!-- Phase 7.1: Register project-level settings page -->
        <projectConfigurable id="dev.fmcuttingboard.settings"
                             displayName="FMCuttingBoard"
                             instance="dev.fmcuttingboard.settings.FmCuttingBoardConfigurable"/>
    </extensions>

    <!-- Phase 1.1: Register base actions group under Tools menu -->
    <actions>
        <group id="dev.fmcuttingboard.toolsGroup"
               text="FMCuttingBoard"
               description="FMCuttingBoard tools"
               popup="true">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <!-- Phase 1.2: Register submenu actions -->
            <action id="dev.fmcuttingboard.actions.ConvertClipboardToXml"
                    class="dev.fmcuttingboard.actions.ConvertClipboardToXmlAction"
                    text="Convert FileMaker Clipboard To XML"
                    description="Convert FileMaker clipboard contents to XML and place on clipboard">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt C" second-keystroke="X"/>
                <!-- Phase 7.2: Quick access in context menus -->
                <add-to-group group-id="EditorPopupMenu" anchor="last"/>
                <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            </action>

            <action id="dev.fmcuttingboard.actions.ReadClipboardIntoNewXmlFile"
                    class="dev.fmcuttingboard.actions.ReadClipboardIntoNewXmlFileAction"
                    text="Read Clipboard Into New XML File"
                    description="Create a new XML file from the current clipboard contents">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt C" second-keystroke="F"/>
                <!-- Phase 7.2: Quick access in context menus -->
                <add-to-group group-id="EditorPopupMenu" anchor="last"/>
                <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            </action>

            <action id="dev.fmcuttingboard.actions.PushClipboardIntoFileMaker"
                    class="dev.fmcuttingboard.actions.PushClipboardIntoFileMakerAction"
                    text="Push Clipboard Into FileMaker"
                    description="Push XML or supported content on clipboard into FileMaker">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt C" second-keystroke="P"/>
                <!-- Phase 7.2: Quick access in context menus -->
                <add-to-group group-id="EditorPopupMenu" anchor="last"/>
                <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            </action>

        </group>
    </actions>
</idea-plugin>
